# AT-006: eventsList Endpoint (Read)

## Ziel
HTTP-Funktion `eventsList`, die die letzten `n` Events aus `events` zurückgibt.

## Scope
- In-Scope: `functions/index.js` (nur hinzufügen)
- Out-of-Scope: Firestore Rules, Indexe, CI-Erweiterungen

## Inputs
- Optionaler Query-Param `limit` (int, 1–50, default 10)

## Output
HTTP 200 JSON:
```json
{
  "items": [
    { "id": "<doc-id>", "type": "test", "ts": "<ISO-8601>" }
  ],
  "count":  <number>
}
Sortierung: ts absteigend. Ungültige limit → fallback auf 10.

Tests
Mind. ein Event mit AT-005 erzeugen.

Emulator starten: npm run emu --prefix functions

Aufruf:

curl "http://127.0.0.1:5001/recovery-engine/europe-west1/eventsList"

curl "http://127.0.0.1:5001/recovery-engine/europe-west1/eventsList?limit=5"

Erwartet:

items ist Array, Länge ≤ limit.

Jedes Item hat id (string), type (string), ts (ISO-8601).

count = items.length.

Definition of Done
helloWorld und lostRevenueMock bleiben funktionsfähig.

eventWriteMock bleibt funktionsfähig.

Nur functions/index.js geändert.

Node 22, Region europe-west1.

Lokale Tests grün, CI bleibt grün.
